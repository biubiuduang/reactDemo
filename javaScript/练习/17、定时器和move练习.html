<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>move练习</title>
    <style>
        div{
            width: 50px;
            height: 50px;
            background-color: red;
            position: absolute;
            top:0;
        }
    </style>
</head>
<body>
<script src="js/wjs.js"></script>
<script>
    window.onload = function(){
        var aDiv = document.getElementsByTagName("div");
        var str = "";
        var len = 20;
        var timer = null;
        var count = 0;
        var onOff = true;
        for(var i=0;i<len;i++){
            str += `<div style="left: ${i*60}px;"></div>`
        }
        document.body.innerHTML = str;
        document.onclick = function(){
            if(onOff){
                onOff = false;
                clearInterval(timer);
                if(count === len){
                    timer = setInterval(()=>{
                        count --;
                        doMove({
                            obj: aDiv[count],
                            attr: 'top',
                            target: 0,
                            interval: 7,
                        });
                        if(count === 0){
                            clearInterval(timer);
                        }
                    },400);
                }else{
                    timer = setInterval(()=>{
                        doMove({
                            obj: aDiv[count],
                            attr: 'top',
                            target: 500,
                            interval: 7
                        });
                        count ++;
                        if(count === len){
                            clearInterval(timer);
                            onOff = true;
                        }
                    },400);
                }
            }
        }


    }
</script>
</body>
</html>